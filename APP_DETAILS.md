# Pro Loco Venticanese Evolution - Application Documentation

## 1. Project Overview
**Name:** Pro Loco Venticanese Evolution  
**Type:** Monolithic Web Application (PWA + Admin Dashboard)  
**Goal:** Digital transformation of Pro Loco Venticanese management, including member management, event tracking, committee organization, and digital communications.

## 2. Technical Stack

### Backend
- **Framework:** Laravel 12 (PHP 8.4)
- **Database:** PostgreSQL 18 (UUIDv7 Primary Keys)
- **WebSockets:** Laravel Reverb (Real-time features)
- **Push Notifications:** `laravel-notification-channels/webpush`
- **Asset Management:** Vite

### Frontend
- **Framework:** Svelte 5 (Runes Syntax)
- **Adapter:** Inertia.js (React-like routing within Laravel)
- **Styling:** Tailwind CSS 4 (Theme: Zinc, P3 Color Space)
- **UI Components:** Bits UI, Lucide Icons, Shadcn-like aesthetic.
- **PWA:** `vite-plugin-pwa` (Offline capabilities, Installability)
- **Editor:** TipTap (Rich text editing for posts/pages)

## 3. Architecture & Roles

The application is divided into three main contexts:

1.  **Public (`/`)**: Landing page and static content.
2.  **Member App (`/me`)**: Mobile-first PWA for regular members.
3.  **Admin Dashboard (`/admin`)**: Desktop-centric management interface for staff.

### Roles
- **Super Admin:** Full system access, including activity log clearing and role management.
- **Admin:** Management of members, events, committees, and content.
- **Member:** Standard user with access to their digital card, profile, and committees.

## 4. Key Functionalities

### A. Authentication & Onboarding
- **Login:** Standard email/password flow.
- **Password Reset:** Token-based reset via email.
- **Member Onboarding:** First-time login flow (`/me/onboarding`) for members to set their initial password if generated by admins.
- **UUID Identity:** Every user has a unique UUIDv7, visible via `/me/uuid`.

### B. Member Management
- **Digital Card (`/me/card`):** Digital membership card for members to prove active status.
- **Profile Management:**
    - Update Avatar.
    - Change Password.
    - View Membership Status.
- **Push Subscriptions:** Members can manage their device push notification subscriptions.
- **Notifications:** In-app notification center.

### C. Admin Capabilities
- **Dashboard:** High-level overview.
- **Member Directory:**
    - CRUD operations for users.
    - **CSV Import/Export:** Bulk management of member data.
    - **Invitations:** Send invitation links to new members.
    - **Role Management:** Assign Admin/Super Admin roles.
- **Activity Logs:** Track admin actions (Super Admin can clear).

### D. Events Module
- **Management:** Create, Edit, Delete events (Admins).
- **Viewing:** Members can view upcoming and past events.
- **Check-in System:**
    - Admins can check members into events (likely via QR code scanning or manual list).
    - Export check-in data to CSV.

### E. Groups & Committees
- **Philosophy:** Organized groups for specific Pro Loco activities (e.g., "Sagra Team", "Youth Group").
- **Admin:** Create committees, manage members (attach/detach), manage posts.
- **Member:**
    - View assigned committees.
    - Read posts/updates from committee leaders.
    - "Mark as Read" tracking for posts.

### F. Communications
- **Broadcasts:** System-wide announcements sent by admins.
    - Supported channels: Push Notification, Email (implied).
    - Member view: `/me/broadcasts`.
- **In-App Notifications:** Real-time alerts for system events.

### G. Projects
- **Tracking:** Manage long-term projects (Admins).
- **Visibility:** Members can view projects they are involved in (`/me/projects`).

### H. Content Management (CMS)
- **Pages:** Admins can create static content pages (e.g., "History", "About Us").
- **Public Access:** Accessible via `/p/{slug}`.
- **Legal:** Dedicated routes for Privacy Policy and Cookie Policy.

## 5. Security & Compliance
- **Authentication:** session-based (Laravel default).
- **Authorization:** Role-based middleware (`role:super_admin`, `role:admin`).
- **Data Protection:** UUIDv7 prevents enumeration attacks.
- **Audit:** Activity logging for sensitive admin actions.

## 6. Developer Workflow
- **Linting:** Laravel Pint (PHP).
- **Testing:** PHPUnit / Pest (Available in `composer.json`).
- **Local Dev:** `./vendor/bin/sail up` (Dockerized environment).
